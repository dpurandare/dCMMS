{
  "id": "4135d84c-ead4-4080-8550-1781b553eb4f",
  "prevId": "44b088e1-0cfb-4a94-b07f-380f6b5d5a86",
  "version": "5",
  "dialect": "pg",
  "tables": {
    "alerts": {
      "name": "alerts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "site_id": {
          "name": "site_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "asset_id": {
          "name": "asset_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "alert_id": {
          "name": "alert_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "severity": {
          "name": "severity",
          "type": "alert_severity",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "alert_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "rule_id": {
          "name": "rule_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "triggered_at": {
          "name": "triggered_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "acknowledged_at": {
          "name": "acknowledged_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "acknowledged_by": {
          "name": "acknowledged_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_by": {
          "name": "resolved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "alerts_tenant_id_tenants_id_fk": {
          "name": "alerts_tenant_id_tenants_id_fk",
          "tableFrom": "alerts",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "alerts_site_id_sites_id_fk": {
          "name": "alerts_site_id_sites_id_fk",
          "tableFrom": "alerts",
          "tableTo": "sites",
          "columnsFrom": [
            "site_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "alerts_asset_id_assets_id_fk": {
          "name": "alerts_asset_id_assets_id_fk",
          "tableFrom": "alerts",
          "tableTo": "assets",
          "columnsFrom": [
            "asset_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "alerts_acknowledged_by_users_id_fk": {
          "name": "alerts_acknowledged_by_users_id_fk",
          "tableFrom": "alerts",
          "tableTo": "users",
          "columnsFrom": [
            "acknowledged_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "alerts_resolved_by_users_id_fk": {
          "name": "alerts_resolved_by_users_id_fk",
          "tableFrom": "alerts",
          "tableTo": "users",
          "columnsFrom": [
            "resolved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "asset_health_scores": {
      "name": "asset_health_scores",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "asset_id": {
          "name": "asset_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "score": {
          "name": "score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "recent_alarms": {
          "name": "recent_alarms",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "recent_work_orders": {
          "name": "recent_work_orders",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "anomaly_count": {
          "name": "anomaly_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "asset_age_months": {
          "name": "asset_age_months",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "days_since_last_maintenance": {
          "name": "days_since_last_maintenance",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "component_scores": {
          "name": "component_scores",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "calculated_at": {
          "name": "calculated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "asset_health_scores_asset_id_assets_id_fk": {
          "name": "asset_health_scores_asset_id_assets_id_fk",
          "tableFrom": "asset_health_scores",
          "tableTo": "assets",
          "columnsFrom": [
            "asset_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "assets": {
      "name": "assets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "site_id": {
          "name": "site_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "parent_asset_id": {
          "name": "parent_asset_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "asset_id": {
          "name": "asset_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "manufacturer": {
          "name": "manufacturer",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "model": {
          "name": "model",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "serial_number": {
          "name": "serial_number",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "installation_date": {
          "name": "installation_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "warranty_expiry_date": {
          "name": "warranty_expiry_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "asset_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'operational'"
        },
        "specifications": {
          "name": "specifications",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "location": {
          "name": "location",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "assets_tenant_id_tenants_id_fk": {
          "name": "assets_tenant_id_tenants_id_fk",
          "tableFrom": "assets",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "assets_site_id_sites_id_fk": {
          "name": "assets_site_id_sites_id_fk",
          "tableFrom": "assets",
          "tableTo": "sites",
          "columnsFrom": [
            "site_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "audit_logs": {
      "name": "audit_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "changes": {
          "name": "changes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "audit_logs_tenant_id_tenants_id_fk": {
          "name": "audit_logs_tenant_id_tenants_id_fk",
          "tableFrom": "audit_logs",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "audit_logs_user_id_users_id_fk": {
          "name": "audit_logs_user_id_users_id_fk",
          "tableFrom": "audit_logs",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "compliance_generated_reports": {
      "name": "compliance_generated_reports",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "template_id": {
          "name": "template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "site_id": {
          "name": "site_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "report_name": {
          "name": "report_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "report_type": {
          "name": "report_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "reporting_period_start": {
          "name": "reporting_period_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "reporting_period_end": {
          "name": "reporting_period_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "report_data": {
          "name": "report_data",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_url": {
          "name": "file_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "file_size_bytes": {
          "name": "file_size_bytes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "file_format": {
          "name": "file_format",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pdf'"
        },
        "watermark": {
          "name": "watermark",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'DRAFT'"
        },
        "generated_by": {
          "name": "generated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "generated_at": {
          "name": "generated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "finalized_by": {
          "name": "finalized_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "finalized_at": {
          "name": "finalized_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "compliance_generated_reports_tenant_id_tenants_id_fk": {
          "name": "compliance_generated_reports_tenant_id_tenants_id_fk",
          "tableFrom": "compliance_generated_reports",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "compliance_generated_reports_template_id_compliance_report_templates_id_fk": {
          "name": "compliance_generated_reports_template_id_compliance_report_templates_id_fk",
          "tableFrom": "compliance_generated_reports",
          "tableTo": "compliance_report_templates",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "compliance_generated_reports_site_id_sites_id_fk": {
          "name": "compliance_generated_reports_site_id_sites_id_fk",
          "tableFrom": "compliance_generated_reports",
          "tableTo": "sites",
          "columnsFrom": [
            "site_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "compliance_generated_reports_generated_by_users_id_fk": {
          "name": "compliance_generated_reports_generated_by_users_id_fk",
          "tableFrom": "compliance_generated_reports",
          "tableTo": "users",
          "columnsFrom": [
            "generated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "compliance_generated_reports_finalized_by_users_id_fk": {
          "name": "compliance_generated_reports_finalized_by_users_id_fk",
          "tableFrom": "compliance_generated_reports",
          "tableTo": "users",
          "columnsFrom": [
            "finalized_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "compliance_report_templates": {
      "name": "compliance_report_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "template_id": {
          "name": "template_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "report_type": {
          "name": "report_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "compliance_standard": {
          "name": "compliance_standard",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'1.0'"
        },
        "required_fields": {
          "name": "required_fields",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'"
        },
        "optional_fields": {
          "name": "optional_fields",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'"
        },
        "auto_populate_mappings": {
          "name": "auto_populate_mappings",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "validation_rules": {
          "name": "validation_rules",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "format": {
          "name": "format",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pdf'"
        },
        "frequency": {
          "name": "frequency",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "is_system_template": {
          "name": "is_system_template",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "compliance_report_templates_tenant_id_tenants_id_fk": {
          "name": "compliance_report_templates_tenant_id_tenants_id_fk",
          "tableFrom": "compliance_report_templates",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "compliance_report_templates_created_by_users_id_fk": {
          "name": "compliance_report_templates_created_by_users_id_fk",
          "tableFrom": "compliance_report_templates",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "compliance_report_templates_template_id_unique": {
          "name": "compliance_report_templates_template_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "template_id"
          ]
        }
      }
    },
    "dashboards": {
      "name": "dashboards",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "layout": {
          "name": "layout",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'grid'"
        },
        "refresh_interval": {
          "name": "refresh_interval",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 300
        },
        "widgets": {
          "name": "widgets",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'"
        },
        "permissions": {
          "name": "permissions",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "is_public": {
          "name": "is_public",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "dashboards_tenant_id_tenants_id_fk": {
          "name": "dashboards_tenant_id_tenants_id_fk",
          "tableFrom": "dashboards",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "dashboards_created_by_users_id_fk": {
          "name": "dashboards_created_by_users_id_fk",
          "tableFrom": "dashboards",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "device_tokens": {
      "name": "device_tokens",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "device_type": {
          "name": "device_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "device_id": {
          "name": "device_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "app_version": {
          "name": "app_version",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "last_used_at": {
          "name": "last_used_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "device_tokens_user_id_users_id_fk": {
          "name": "device_tokens_user_id_users_id_fk",
          "tableFrom": "device_tokens",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "device_tokens_token_unique": {
          "name": "device_tokens_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      }
    },
    "forecast_accuracy_metrics": {
      "name": "forecast_accuracy_metrics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "model_name": {
          "name": "model_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "model_version": {
          "name": "model_version",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "site_id": {
          "name": "site_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "period_start": {
          "name": "period_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "period_end": {
          "name": "period_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "forecast_horizon_hours": {
          "name": "forecast_horizon_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "mean_absolute_error_mw": {
          "name": "mean_absolute_error_mw",
          "type": "numeric(10, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "mean_absolute_percentage_error": {
          "name": "mean_absolute_percentage_error",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "root_mean_squared_error_mw": {
          "name": "root_mean_squared_error_mw",
          "type": "numeric(10, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "r_squared": {
          "name": "r_squared",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "forecast_skill_score": {
          "name": "forecast_skill_score",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "num_forecasts": {
          "name": "num_forecasts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "num_validated": {
          "name": "num_validated",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "calculated_at": {
          "name": "calculated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "forecast_accuracy_metrics_site_id_sites_id_fk": {
          "name": "forecast_accuracy_metrics_site_id_sites_id_fk",
          "tableFrom": "forecast_accuracy_metrics",
          "tableTo": "sites",
          "columnsFrom": [
            "site_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "generation_forecasts": {
      "name": "generation_forecasts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "site_id": {
          "name": "site_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "asset_id": {
          "name": "asset_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "forecast_timestamp": {
          "name": "forecast_timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "forecast_horizon_hours": {
          "name": "forecast_horizon_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "generated_at": {
          "name": "generated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "model_name": {
          "name": "model_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "model_version": {
          "name": "model_version",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "algorithm": {
          "name": "algorithm",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "predicted_generation_mw": {
          "name": "predicted_generation_mw",
          "type": "numeric(10, 3)",
          "primaryKey": false,
          "notNull": true
        },
        "confidence_interval_lower_mw": {
          "name": "confidence_interval_lower_mw",
          "type": "numeric(10, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "confidence_interval_upper_mw": {
          "name": "confidence_interval_upper_mw",
          "type": "numeric(10, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "prediction_std_dev": {
          "name": "prediction_std_dev",
          "type": "numeric(10, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "actual_generation_mw": {
          "name": "actual_generation_mw",
          "type": "numeric(10, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "error_mw": {
          "name": "error_mw",
          "type": "numeric(10, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "absolute_error_mw": {
          "name": "absolute_error_mw",
          "type": "numeric(10, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "percentage_error": {
          "name": "percentage_error",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "weather_forecast_id": {
          "name": "weather_forecast_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "feature_values": {
          "name": "feature_values",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "model_accuracy_score": {
          "name": "model_accuracy_score",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "training_data_end_date": {
          "name": "training_data_end_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "accuracy_validated": {
          "name": "accuracy_validated",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "generation_forecasts_site_id_sites_id_fk": {
          "name": "generation_forecasts_site_id_sites_id_fk",
          "tableFrom": "generation_forecasts",
          "tableTo": "sites",
          "columnsFrom": [
            "site_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "generation_forecasts_asset_id_assets_id_fk": {
          "name": "generation_forecasts_asset_id_assets_id_fk",
          "tableFrom": "generation_forecasts",
          "tableTo": "assets",
          "columnsFrom": [
            "asset_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "generation_forecasts_weather_forecast_id_weather_forecasts_id_fk": {
          "name": "generation_forecasts_weather_forecast_id_weather_forecasts_id_fk",
          "tableFrom": "generation_forecasts",
          "tableTo": "weather_forecasts",
          "columnsFrom": [
            "weather_forecast_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "notification_history": {
      "name": "notification_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "notification_event_type",
          "primaryKey": false,
          "notNull": true
        },
        "channel": {
          "name": "channel",
          "type": "notification_channel",
          "primaryKey": false,
          "notNull": true
        },
        "template_id": {
          "name": "template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "recipient": {
          "name": "recipient",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "subject": {
          "name": "subject",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "body": {
          "name": "body",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "notification_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "delivered_at": {
          "name": "delivered_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "failed_at": {
          "name": "failed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "notification_history_tenant_id_tenants_id_fk": {
          "name": "notification_history_tenant_id_tenants_id_fk",
          "tableFrom": "notification_history",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "notification_history_user_id_users_id_fk": {
          "name": "notification_history_user_id_users_id_fk",
          "tableFrom": "notification_history",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "notification_history_template_id_notification_templates_id_fk": {
          "name": "notification_history_template_id_notification_templates_id_fk",
          "tableFrom": "notification_history",
          "tableTo": "notification_templates",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "notification_preferences": {
      "name": "notification_preferences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "notification_event_type",
          "primaryKey": false,
          "notNull": true
        },
        "channel": {
          "name": "channel",
          "type": "notification_channel",
          "primaryKey": false,
          "notNull": true
        },
        "is_enabled": {
          "name": "is_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "quiet_hours_start": {
          "name": "quiet_hours_start",
          "type": "varchar(5)",
          "primaryKey": false,
          "notNull": false
        },
        "quiet_hours_end": {
          "name": "quiet_hours_end",
          "type": "varchar(5)",
          "primaryKey": false,
          "notNull": false
        },
        "enable_batching": {
          "name": "enable_batching",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "batch_interval_minutes": {
          "name": "batch_interval_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 15
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "notification_preferences_user_id_users_id_fk": {
          "name": "notification_preferences_user_id_users_id_fk",
          "tableFrom": "notification_preferences",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "notification_queue": {
      "name": "notification_queue",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "notification_event_type",
          "primaryKey": false,
          "notNull": true
        },
        "channel": {
          "name": "channel",
          "type": "notification_channel",
          "primaryKey": false,
          "notNull": true
        },
        "priority": {
          "name": "priority",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'medium'"
        },
        "subject": {
          "name": "subject",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "body": {
          "name": "body",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "template_id": {
          "name": "template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "data": {
          "name": "data",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "batch_key": {
          "name": "batch_key",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "is_batched": {
          "name": "is_batched",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "batched_at": {
          "name": "batched_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "notification_queue_tenant_id_tenants_id_fk": {
          "name": "notification_queue_tenant_id_tenants_id_fk",
          "tableFrom": "notification_queue",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "notification_queue_user_id_users_id_fk": {
          "name": "notification_queue_user_id_users_id_fk",
          "tableFrom": "notification_queue",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "notification_rules": {
      "name": "notification_rules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "rule_id": {
          "name": "rule_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "notification_event_type",
          "primaryKey": false,
          "notNull": true
        },
        "channels": {
          "name": "channels",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "conditions": {
          "name": "conditions",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 5
        },
        "escalation_minutes": {
          "name": "escalation_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "escalation_role_id": {
          "name": "escalation_role_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "notification_rules_tenant_id_tenants_id_fk": {
          "name": "notification_rules_tenant_id_tenants_id_fk",
          "tableFrom": "notification_rules",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "notification_templates": {
      "name": "notification_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "template_id": {
          "name": "template_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "notification_event_type",
          "primaryKey": false,
          "notNull": true
        },
        "channel": {
          "name": "channel",
          "type": "notification_channel",
          "primaryKey": false,
          "notNull": true
        },
        "subject": {
          "name": "subject",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "body_template": {
          "name": "body_template",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "variables": {
          "name": "variables",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "notification_templates_tenant_id_tenants_id_fk": {
          "name": "notification_templates_tenant_id_tenants_id_fk",
          "tableFrom": "notification_templates",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "permits": {
      "name": "permits",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "permit_id": {
          "name": "permit_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "work_order_id": {
          "name": "work_order_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "asset_id": {
          "name": "asset_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "valid_from": {
          "name": "valid_from",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "valid_until": {
          "name": "valid_until",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "issued_by": {
          "name": "issued_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approved_by": {
          "name": "approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "safety_checks": {
          "name": "safety_checks",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'"
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "permits_tenant_id_tenants_id_fk": {
          "name": "permits_tenant_id_tenants_id_fk",
          "tableFrom": "permits",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "permits_work_order_id_work_orders_id_fk": {
          "name": "permits_work_order_id_work_orders_id_fk",
          "tableFrom": "permits",
          "tableTo": "work_orders",
          "columnsFrom": [
            "work_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "permits_asset_id_assets_id_fk": {
          "name": "permits_asset_id_assets_id_fk",
          "tableFrom": "permits",
          "tableTo": "assets",
          "columnsFrom": [
            "asset_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "permits_issued_by_users_id_fk": {
          "name": "permits_issued_by_users_id_fk",
          "tableFrom": "permits",
          "tableTo": "users",
          "columnsFrom": [
            "issued_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "permits_approved_by_users_id_fk": {
          "name": "permits_approved_by_users_id_fk",
          "tableFrom": "permits",
          "tableTo": "users",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "report_definitions": {
      "name": "report_definitions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "datasource": {
          "name": "datasource",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "columns": {
          "name": "columns",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "filters": {
          "name": "filters",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'"
        },
        "group_by": {
          "name": "group_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'"
        },
        "aggregations": {
          "name": "aggregations",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'"
        },
        "order_by": {
          "name": "order_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'"
        },
        "limit_rows": {
          "name": "limit_rows",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1000
        },
        "is_public": {
          "name": "is_public",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "report_definitions_tenant_id_tenants_id_fk": {
          "name": "report_definitions_tenant_id_tenants_id_fk",
          "tableFrom": "report_definitions",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "report_definitions_created_by_users_id_fk": {
          "name": "report_definitions_created_by_users_id_fk",
          "tableFrom": "report_definitions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "reports": {
      "name": "reports",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "datasource": {
          "name": "datasource",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "config": {
          "name": "config",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_public": {
          "name": "is_public",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "reports_tenant_id_tenants_id_fk": {
          "name": "reports_tenant_id_tenants_id_fk",
          "tableFrom": "reports",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "reports_created_by_users_id_fk": {
          "name": "reports_created_by_users_id_fk",
          "tableFrom": "reports",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "sites": {
      "name": "sites",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "site_id": {
          "name": "site_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "energy_type": {
          "name": "energy_type",
          "type": "energy_type",
          "primaryKey": false,
          "notNull": false
        },
        "location": {
          "name": "location",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "capacity_mw": {
          "name": "capacity_mw",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "commission_date": {
          "name": "commission_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "config": {
          "name": "config",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "sites_tenant_id_tenants_id_fk": {
          "name": "sites_tenant_id_tenants_id_fk",
          "tableFrom": "sites",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "tenants": {
      "name": "tenants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "domain": {
          "name": "domain",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "config": {
          "name": "config",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "tenants_tenant_id_unique": {
          "name": "tenants_tenant_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id"
          ]
        }
      }
    },
    "users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "username": {
          "name": "username",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "first_name": {
          "name": "first_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "user_role",
          "primaryKey": false,
          "notNull": true,
          "default": "'viewer'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "phone": {
          "name": "phone",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "last_login_at": {
          "name": "last_login_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "password_hash": {
          "name": "password_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "idp_user_id": {
          "name": "idp_user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "users_tenant_id_tenants_id_fk": {
          "name": "users_tenant_id_tenants_id_fk",
          "tableFrom": "users",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "weather_forecasts": {
      "name": "weather_forecasts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "site_id": {
          "name": "site_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "forecast_timestamp": {
          "name": "forecast_timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "fetched_at": {
          "name": "fetched_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "source": {
          "name": "source",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'openweathermap'"
        },
        "forecast_type": {
          "name": "forecast_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "irradiation_wh_m2": {
          "name": "irradiation_wh_m2",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "ghi_wh_m2": {
          "name": "ghi_wh_m2",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "dni_wh_m2": {
          "name": "dni_wh_m2",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "dhi_wh_m2": {
          "name": "dhi_wh_m2",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "wind_speed_ms": {
          "name": "wind_speed_ms",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "wind_direction_deg": {
          "name": "wind_direction_deg",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "wind_gust_ms": {
          "name": "wind_gust_ms",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "temperature_c": {
          "name": "temperature_c",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "humidity_percent": {
          "name": "humidity_percent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "pressure_hpa": {
          "name": "pressure_hpa",
          "type": "numeric(7, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "cloud_cover_percent": {
          "name": "cloud_cover_percent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "precipitation_mm": {
          "name": "precipitation_mm",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "snow_mm": {
          "name": "snow_mm",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "visibility_m": {
          "name": "visibility_m",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "air_density_kg_m3": {
          "name": "air_density_kg_m3",
          "type": "numeric(6, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "aqi": {
          "name": "aqi",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "weather_condition": {
          "name": "weather_condition",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "weather_description": {
          "name": "weather_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "raw_api_response": {
          "name": "raw_api_response",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "weather_forecasts_site_id_sites_id_fk": {
          "name": "weather_forecasts_site_id_sites_id_fk",
          "tableFrom": "weather_forecasts",
          "tableTo": "sites",
          "columnsFrom": [
            "site_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "webhook_deliveries": {
      "name": "webhook_deliveries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "webhook_id": {
          "name": "webhook_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "notification_event_type",
          "primaryKey": false,
          "notNull": true
        },
        "payload": {
          "name": "payload",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "webhook_delivery_status",
          "primaryKey": false,
          "notNull": true
        },
        "status_code": {
          "name": "status_code",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "response_body": {
          "name": "response_body",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "attempt_count": {
          "name": "attempt_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "webhook_deliveries_webhook_id_webhooks_id_fk": {
          "name": "webhook_deliveries_webhook_id_webhooks_id_fk",
          "tableFrom": "webhook_deliveries",
          "tableTo": "webhooks",
          "columnsFrom": [
            "webhook_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "webhooks": {
      "name": "webhooks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "webhook_id": {
          "name": "webhook_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "url": {
          "name": "url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "auth_type": {
          "name": "auth_type",
          "type": "webhook_auth_type",
          "primaryKey": false,
          "notNull": true,
          "default": "'none'"
        },
        "auth_token": {
          "name": "auth_token",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "auth_username": {
          "name": "auth_username",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "auth_password": {
          "name": "auth_password",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "headers": {
          "name": "headers",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "events": {
          "name": "events",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "secret": {
          "name": "secret",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "webhooks_tenant_id_tenants_id_fk": {
          "name": "webhooks_tenant_id_tenants_id_fk",
          "tableFrom": "webhooks",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "webhooks_webhook_id_unique": {
          "name": "webhooks_webhook_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "webhook_id"
          ]
        }
      }
    },
    "wind_turbine_metadata": {
      "name": "wind_turbine_metadata",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "asset_id": {
          "name": "asset_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "manufacturer": {
          "name": "manufacturer",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "model": {
          "name": "model",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "rated_power_mw": {
          "name": "rated_power_mw",
          "type": "numeric(6, 3)",
          "primaryKey": false,
          "notNull": true
        },
        "rotor_diameter_m": {
          "name": "rotor_diameter_m",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "hub_height_m": {
          "name": "hub_height_m",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "number_of_blades": {
          "name": "number_of_blades",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 3
        },
        "cut_in_wind_speed_ms": {
          "name": "cut_in_wind_speed_ms",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "rated_wind_speed_ms": {
          "name": "rated_wind_speed_ms",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "cut_out_wind_speed_ms": {
          "name": "cut_out_wind_speed_ms",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "power_curve_data": {
          "name": "power_curve_data",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "blade_length_m": {
          "name": "blade_length_m",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "blade_material": {
          "name": "blade_material",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "blade_serial_numbers": {
          "name": "blade_serial_numbers",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "gearbox_type": {
          "name": "gearbox_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "gearbox_ratio": {
          "name": "gearbox_ratio",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "gearbox_manufacturer": {
          "name": "gearbox_manufacturer",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "generator_type": {
          "name": "generator_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "generator_rated_power_mw": {
          "name": "generator_rated_power_mw",
          "type": "numeric(6, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "generator_voltage_kv": {
          "name": "generator_voltage_kv",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "generator_frequency_hz": {
          "name": "generator_frequency_hz",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 50
        },
        "control_system_type": {
          "name": "control_system_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "yaw_system_type": {
          "name": "yaw_system_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "pitch_control_type": {
          "name": "pitch_control_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "capacity_factor": {
          "name": "capacity_factor",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "availability_target": {
          "name": "availability_target",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "max_operational_temp_c": {
          "name": "max_operational_temp_c",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "min_operational_temp_c": {
          "name": "min_operational_temp_c",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_wind_speed_survival_ms": {
          "name": "max_wind_speed_survival_ms",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "commissioning_date": {
          "name": "commissioning_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "warranty_end_date": {
          "name": "warranty_end_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "expected_lifetime_years": {
          "name": "expected_lifetime_years",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 25
        },
        "last_major_service_date": {
          "name": "last_major_service_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "next_major_service_date": {
          "name": "next_major_service_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "service_interval_months": {
          "name": "service_interval_months",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 6
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "wind_turbine_metadata_asset_id_assets_id_fk": {
          "name": "wind_turbine_metadata_asset_id_assets_id_fk",
          "tableFrom": "wind_turbine_metadata",
          "tableTo": "assets",
          "columnsFrom": [
            "asset_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "wind_turbine_metadata_asset_id_unique": {
          "name": "wind_turbine_metadata_asset_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "asset_id"
          ]
        }
      }
    },
    "wind_work_order_templates": {
      "name": "wind_work_order_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "template_name": {
          "name": "template_name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "template_code": {
          "name": "template_code",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "default_priority": {
          "name": "default_priority",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'medium'"
        },
        "default_type": {
          "name": "default_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'preventive'"
        },
        "estimated_duration_hours": {
          "name": "estimated_duration_hours",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "checklist_items": {
          "name": "checklist_items",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "required_skills": {
          "name": "required_skills",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "safety_requirements": {
          "name": "safety_requirements",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "typical_parts": {
          "name": "typical_parts",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "frequency_days": {
          "name": "frequency_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "frequency_description": {
          "name": "frequency_description",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "wind_work_order_templates_tenant_id_tenants_id_fk": {
          "name": "wind_work_order_templates_tenant_id_tenants_id_fk",
          "tableFrom": "wind_work_order_templates",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "work_order_tasks": {
      "name": "work_order_tasks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "work_order_id": {
          "name": "work_order_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "task_order": {
          "name": "task_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_completed": {
          "name": "is_completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_by": {
          "name": "completed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "work_order_tasks_work_order_id_work_orders_id_fk": {
          "name": "work_order_tasks_work_order_id_work_orders_id_fk",
          "tableFrom": "work_order_tasks",
          "tableTo": "work_orders",
          "columnsFrom": [
            "work_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "work_order_tasks_completed_by_users_id_fk": {
          "name": "work_order_tasks_completed_by_users_id_fk",
          "tableFrom": "work_order_tasks",
          "tableTo": "users",
          "columnsFrom": [
            "completed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "work_orders": {
      "name": "work_orders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "site_id": {
          "name": "site_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "asset_id": {
          "name": "asset_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "work_order_id": {
          "name": "work_order_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "work_order_type",
          "primaryKey": false,
          "notNull": true
        },
        "priority": {
          "name": "priority",
          "type": "work_order_priority",
          "primaryKey": false,
          "notNull": true,
          "default": "'medium'"
        },
        "status": {
          "name": "status",
          "type": "work_order_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "assigned_to": {
          "name": "assigned_to",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "scheduled_start": {
          "name": "scheduled_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "scheduled_end": {
          "name": "scheduled_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "actual_start": {
          "name": "actual_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "actual_end": {
          "name": "actual_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_hours": {
          "name": "estimated_hours",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "actual_hours": {
          "name": "actual_hours",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "work_orders_tenant_id_tenants_id_fk": {
          "name": "work_orders_tenant_id_tenants_id_fk",
          "tableFrom": "work_orders",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "work_orders_site_id_sites_id_fk": {
          "name": "work_orders_site_id_sites_id_fk",
          "tableFrom": "work_orders",
          "tableTo": "sites",
          "columnsFrom": [
            "site_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "work_orders_asset_id_assets_id_fk": {
          "name": "work_orders_asset_id_assets_id_fk",
          "tableFrom": "work_orders",
          "tableTo": "assets",
          "columnsFrom": [
            "asset_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "work_orders_assigned_to_users_id_fk": {
          "name": "work_orders_assigned_to_users_id_fk",
          "tableFrom": "work_orders",
          "tableTo": "users",
          "columnsFrom": [
            "assigned_to"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "work_orders_created_by_users_id_fk": {
          "name": "work_orders_created_by_users_id_fk",
          "tableFrom": "work_orders",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    }
  },
  "enums": {
    "alert_severity": {
      "name": "alert_severity",
      "values": {
        "critical": "critical",
        "high": "high",
        "medium": "medium",
        "low": "low",
        "info": "info"
      }
    },
    "alert_status": {
      "name": "alert_status",
      "values": {
        "active": "active",
        "acknowledged": "acknowledged",
        "resolved": "resolved",
        "suppressed": "suppressed"
      }
    },
    "asset_status": {
      "name": "asset_status",
      "values": {
        "operational": "operational",
        "degraded": "degraded",
        "down": "down",
        "maintenance": "maintenance",
        "decommissioned": "decommissioned"
      }
    },
    "energy_type": {
      "name": "energy_type",
      "values": {
        "solar": "solar",
        "wind": "wind",
        "hydro": "hydro",
        "biomass": "biomass",
        "geothermal": "geothermal",
        "hybrid": "hybrid"
      }
    },
    "notification_channel": {
      "name": "notification_channel",
      "values": {
        "email": "email",
        "sms": "sms",
        "push": "push",
        "webhook": "webhook",
        "slack": "slack"
      }
    },
    "notification_event_type": {
      "name": "notification_event_type",
      "values": {
        "work_order_assigned": "work_order_assigned",
        "work_order_overdue": "work_order_overdue",
        "work_order_completed": "work_order_completed",
        "alert_critical": "alert_critical",
        "alert_high": "alert_high",
        "alert_medium": "alert_medium",
        "alert_acknowledged": "alert_acknowledged",
        "alert_resolved": "alert_resolved",
        "asset_down": "asset_down",
        "maintenance_due": "maintenance_due"
      }
    },
    "notification_status": {
      "name": "notification_status",
      "values": {
        "pending": "pending",
        "sent": "sent",
        "delivered": "delivered",
        "failed": "failed",
        "bounced": "bounced"
      }
    },
    "user_role": {
      "name": "user_role",
      "values": {
        "super_admin": "super_admin",
        "tenant_admin": "tenant_admin",
        "site_manager": "site_manager",
        "technician": "technician",
        "operator": "operator",
        "viewer": "viewer"
      }
    },
    "webhook_auth_type": {
      "name": "webhook_auth_type",
      "values": {
        "none": "none",
        "bearer": "bearer",
        "basic": "basic",
        "api_key": "api_key"
      }
    },
    "webhook_delivery_status": {
      "name": "webhook_delivery_status",
      "values": {
        "success": "success",
        "failed": "failed",
        "timeout": "timeout",
        "invalid_response": "invalid_response"
      }
    },
    "work_order_priority": {
      "name": "work_order_priority",
      "values": {
        "critical": "critical",
        "high": "high",
        "medium": "medium",
        "low": "low"
      }
    },
    "work_order_status": {
      "name": "work_order_status",
      "values": {
        "draft": "draft",
        "open": "open",
        "in_progress": "in_progress",
        "on_hold": "on_hold",
        "completed": "completed",
        "cancelled": "cancelled"
      }
    },
    "work_order_type": {
      "name": "work_order_type",
      "values": {
        "corrective": "corrective",
        "preventive": "preventive",
        "predictive": "predictive",
        "inspection": "inspection",
        "emergency": "emergency"
      }
    }
  },
  "schemas": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}